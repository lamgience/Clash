# ------------------------------------------------------
# Clash Verge / Mihomo æ‰©å±•è¦†å†™é…ç½® (Final Flag Complete)
# ------------------------------------------------------
# æ›´æ–°æ—¥å¿—ï¼š
# 1. "å…¶ä»–èŠ‚ç‚¹" æ­£åˆ™å¢å¼ºï¼šè¡¥å……äº†æ‰€æœ‰åŒ…å«å›½å®¶çš„æ——æ ‡
#    (ğŸ‡«ğŸ‡·/ğŸ‡²ğŸ‡¾/ğŸ‡§ğŸ‡·/ğŸ‡¨ğŸ‡¦/ğŸ‡ªğŸ‡¸/ğŸ‡®ğŸ‡³/ğŸ‡²ğŸ‡½/ğŸ‡±ğŸ‡º/ğŸ‡¹ğŸ‡·/ğŸ‡®ğŸ‡±/ğŸ‡®ğŸ‡¹/ğŸ‡³ğŸ‡±/ğŸ‡©ğŸ‡ª/ğŸ‡¨ğŸ‡­/ğŸ‡¹ğŸ‡­/ğŸ‡°ğŸ‡¿)
# 2. ä¿æŒæ‰€æœ‰å…¶ä»–åŠŸèƒ½å®Œå…¨ä¸å˜
# ------------------------------------------------------

# ==================== 1. åŸºç¡€å†…æ ¸è®¾ç½® ====================
mode: rule
mixed-port: 7897
allow-lan: false
log-level: info
ipv6: true
unified-delay: true
# ä¸¥æ ¼è¿›ç¨‹åŒ¹é…ï¼Œè§£å†³æ¸¸æˆåˆ†æµé—®é¢˜
find-process-mode: strict
# æ¨¡æ‹Ÿ Chrome æŒ‡çº¹ï¼Œé˜²æ­¢è¢« Cloudflare æ‹¦æˆª
global-client-fingerprint: chrome

# ==================== 2. DNS æ·±åº¦ä¼˜åŒ– ====================
dns:
  enable: true
  listen: :53
  ipv6: true
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16
  fake-ip-filter-mode: blacklist
  fake-ip-filter:
    - "*.lan"
    - "*.local"
    - "*.arpa"
    - "time.*.com"
    - "ntp.*.com"
    - "+.market.xiaomi.com"
    - "localhost.ptlogin2.qq.com"
    - "*.msftncsi.com"
    - "www.msftconnecttest.com"
  default-nameserver:
    - 223.5.5.5
    - 119.29.29.29
  nameserver:
    - https://doh.pub/dns-query
    - https://dns.alidns.com/dns-query
    - 8.8.8.8
  fallback: []
  fallback-filter:
    geoip: true
    geoip-code: CN
    ipcidr: [240.0.0.0/4]
  # æ ¸å¿ƒä¼˜åŒ–ï¼šå›½å†…åŸŸåèµ°å›½å†… DNSï¼Œå›½å¤–åŸŸåèµ° Google/Cloudflare
  nameserver-policy:
    "geosite:cn,private":
      - https://doh.pub/dns-query
      - https://dns.alidns.com/dns-query
    "geosite:geolocation-!cn":
      - https://dns.google/dns-query
      - https://1.1.1.1/dns-query

# ==================== 3. é”šç‚¹å®šä¹‰ (é…ç½®å¤ç”¨) ====================
# å®šä¹‰é€šç”¨è¿‡æ»¤è§„åˆ™
p: &common_filter
  include-all: true
  exclude-filter: "(?i)Traffic|Expire|Premium|é¢‘é“|è®¢é˜…|ISP|æµé‡|åˆ°æœŸ|é‡ç½®|è¯·å‹¿|å‰©ä½™|å¥—é¤|è·³è½¬|å®˜ç½‘"

# å®šä¹‰é€šç”¨ä»£ç†åˆ—è¡¨ (è‡ªåŠ¨é€‰æ‹©ä¼˜å…ˆ)
pg_auto: &pg_auto
  - è‡ªåŠ¨é€‰æ‹©
  - èŠ‚ç‚¹é€‰æ‹©
  - æ‰‹åŠ¨åˆ‡æ¢
  - é¦™æ¸¯èŠ‚ç‚¹
  - å°æ¹¾èŠ‚ç‚¹
  - ç¾å›½èŠ‚ç‚¹
  - æ—¥æœ¬èŠ‚ç‚¹
  - æ–°åŠ å¡èŠ‚ç‚¹
  - è‹±å›½èŠ‚ç‚¹
  - éŸ©å›½èŠ‚ç‚¹
  - æ¾³å¤§åˆ©äºšèŠ‚ç‚¹
  - ä¿„ç½—æ–¯èŠ‚ç‚¹
  - å…¶ä»–èŠ‚ç‚¹
  - DIRECT

# å®šä¹‰ AI ä¸“ç”¨ä»£ç†åˆ—è¡¨ (ç¾å›½èŠ‚ç‚¹ä¼˜å…ˆ)
pg_ai: &pg_ai
  - ç¾å›½èŠ‚ç‚¹
  - æ—¥æœ¬èŠ‚ç‚¹
  - æ–°åŠ å¡èŠ‚ç‚¹
  - æ‰‹åŠ¨åˆ‡æ¢
  - è‡ªåŠ¨é€‰æ‹©
  - èŠ‚ç‚¹é€‰æ‹©
  - é¦™æ¸¯èŠ‚ç‚¹
  - å°æ¹¾èŠ‚ç‚¹
  - è‹±å›½èŠ‚ç‚¹
  - éŸ©å›½èŠ‚ç‚¹
  - æ¾³å¤§åˆ©äºšèŠ‚ç‚¹
  - ä¿„ç½—æ–¯èŠ‚ç‚¹
  - å…¶ä»–èŠ‚ç‚¹
  - DIRECT

# ==================== 4. è§„åˆ™é›†æº (Providers) ====================
rule-providers:
  LocalAreaNetwork:
    type: http
    behavior: classical
    url: "https://testingcf.jsdelivr.net/gh/ACL4SSR/ACL4SSR@master/Clash/LocalAreaNetwork.list"
    path: ./ruleset/LocalAreaNetwork.list
    interval: 86400
  UnBan:
    type: http
    behavior: classical
    url: "https://testingcf.jsdelivr.net/gh/ACL4SSR/ACL4SSR@master/Clash/UnBan.list"
    path: ./ruleset/UnBan.list
    interval: 86400
  BanAD:
    type: http
    behavior: classical
    url: "https://testingcf.jsdelivr.net/gh/ACL4SSR/ACL4SSR@master/Clash/BanAD.list"
    path: ./ruleset/BanAD.list
    interval: 86400
  BanProgramAD:
    type: http
    behavior: classical
    url: "https://testingcf.jsdelivr.net/gh/ACL4SSR/ACL4SSR@master/Clash/BanProgramAD.list"
    path: ./ruleset/BanProgramAD.list
    interval: 86400
  GoogleFCM:
    type: http
    behavior: classical
    url: "https://testingcf.jsdelivr.net/gh/ACL4SSR/ACL4SSR@master/Clash/Ruleset/GoogleFCM.list"
    path: ./ruleset/GoogleFCM.list
    interval: 86400
  GoogleCN:
    type: http
    behavior: classical
    url: "https://testingcf.jsdelivr.net/gh/ACL4SSR/ACL4SSR@master/Clash/GoogleCN.list"
    path: ./ruleset/GoogleCN.list
    interval: 86400
  SteamCN:
    type: http
    behavior: classical
    url: "https://testingcf.jsdelivr.net/gh/ACL4SSR/ACL4SSR@master/Clash/Ruleset/SteamCN.list"
    path: ./ruleset/SteamCN.list
    interval: 86400
  Microsoft:
    type: http
    behavior: classical
    url: "https://testingcf.jsdelivr.net/gh/ACL4SSR/ACL4SSR@master/Clash/Microsoft.list"
    path: ./ruleset/Microsoft.list
    interval: 86400
  MicrosoftEdge:
    type: http
    behavior: classical
    format: yaml
    url: "https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/MicrosoftEdge/MicrosoftEdge.yaml"
    path: ./ruleset/MicrosoftEdge.yaml
    interval: 86400
  Apple:
    type: http
    behavior: classical
    url: "https://testingcf.jsdelivr.net/gh/ACL4SSR/ACL4SSR@master/Clash/Apple.list"
    path: ./ruleset/Apple.list
    interval: 86400
  WeChat:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/rule/Surge/WeChat/WeChat.list"
    path: ./ruleset/WeChat.list
    interval: 86400
  Adobe:
    type: http
    behavior: domain
    format: yaml
    url: "https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/adobe.yaml"
    path: ./ruleset/adobe.yaml
    interval: 86400
  Notion:
    type: http
    behavior: classical
    format: yaml
    url: "https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Notion/Notion.yaml"
    path: ./ruleset/Notion.yaml
    interval: 86400
  GitHub:
    type: http
    behavior: classical
    format: yaml
    url: "https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/GitHub/GitHub.yaml"
    path: ./ruleset/GitHub.yaml
    interval: 86400
  Download:
    type: http
    behavior: classical
    url: "https://testingcf.jsdelivr.net/gh/ACL4SSR/ACL4SSR@master/Clash/Download.list"
    path: ./ruleset/Download.list
    interval: 86400
  Bing:
    type: http
    behavior: classical
    url: "https://testingcf.jsdelivr.net/gh/ACL4SSR/ACL4SSR@master/Clash/Bing.list"
    path: ./ruleset/Bing.list
    interval: 86400
  bing:
    type: http
    behavior: classical
    format: yaml
    url: "https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Bing/Bing.yaml"
    path: ./ruleset/bing.yaml
    interval: 86400
  OneDrive:
    type: http
    behavior: classical
    url: "https://testingcf.jsdelivr.net/gh/ACL4SSR/ACL4SSR@master/Clash/OneDrive.list"
    path: ./ruleset/OneDrive.list
    interval: 86400
  OpenAi:
    type: http
    behavior: classical
    format: yaml
    url: "https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/OpenAI/OpenAI.yaml"
    path: ./ruleset/openai.yaml
    interval: 86400
  Openai:
    type: http
    behavior: domain
    format: yaml
    url: "https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/openai.yaml"
    path: ./ruleset/Openai.yaml
    interval: 86400
  Gemini:
    type: http
    behavior: domain
    format: yaml
    url: "https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/google-gemini.yaml"
    path: ./ruleset/Gemini.yaml
    interval: 86400
  gemini:
    type: http
    behavior: classical
    format: yaml
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Gemini/Gemini.yaml"
    path: ./ruleset/gemini.yaml
    interval: 86400
  copilot:
    type: http
    behavior: classical
    format: yaml
    url: "https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Copilot/Copilot.yaml"
    path: ./ruleset/copilot.yaml
    interval: 86400
  claude:
    type: http
    behavior: classical
    format: yaml
    url: "https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Claude/Claude.yaml"
    path: ./ruleset/claude.yaml
    interval: 86400
  bard:
    type: http
    behavior: classical
    format: yaml
    url: "https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/BardAI/BardAI.yaml"
    path: ./ruleset/bard.yaml
    interval: 86400
  perplexity:
    type: http
    behavior: domain
    format: yaml
    url: "https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/perplexity.yaml"
    path: ./ruleset/perplexity.yaml
    interval: 86400
  telegram_ip:
    type: http
    behavior: ipcidr
    format: yaml
    url: "https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geoip/telegram.yaml"
    path: ./ruleset/telegram_ip.yaml
    interval: 86400
  telegram_domain:
    type: http
    behavior: domain
    format: yaml
    url: "https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/telegram.yaml"
    path: ./ruleset/telegram_domain.yaml
    interval: 86400
  google_domain:
    type: http
    behavior: domain
    format: yaml
    url: "https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/google.yaml"
    path: ./ruleset/google_domain.yaml
    interval: 86400
  x:
    type: http
    behavior: classical
    format: yaml
    url: "https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Twitter/Twitter.yaml"
    path: ./ruleset/x.yaml
    interval: 86400
  Instagram:
    type: http
    behavior: classical
    format: yaml
    url: "https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Instagram/Instagram.yaml"
    path: ./ruleset/Instagram.yaml
    interval: 86400
  Threads:
    type: http
    behavior: classical
    format: yaml
    url: "https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Threads/Threads.yaml"
    path: ./ruleset/Threads.yaml
    interval: 86400
  reddit:
    type: http
    behavior: domain
    format: yaml
    url: "https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/reddit.yaml"
    path: ./ruleset/reddit.yaml
    interval: 86400
  Spotify:
    type: http
    behavior: classical
    format: yaml
    url: "https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Spotify/Spotify.yaml"
    path: ./ruleset/Spotify.yaml
    interval: 86400
  YouTube:
    type: http
    behavior: classical
    url: "https://testingcf.jsdelivr.net/gh/ACL4SSR/ACL4SSR@master/Clash/Ruleset/YouTube.list"
    path: ./ruleset/YouTube.list
    interval: 86400
  Netflix:
    type: http
    behavior: classical
    url: "https://testingcf.jsdelivr.net/gh/ACL4SSR/ACL4SSR@master/Clash/Ruleset/Netflix.list"
    path: ./ruleset/Netflix.list
    interval: 86400
  Bahamut:
    type: http
    behavior: classical
    format: yaml
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Bahamut/Bahamut.yaml"
    path: ./ruleset/Bahamut.yaml
    interval: 86400
  BilibiliHMT:
    type: http
    behavior: classical
    url: "https://testingcf.jsdelivr.net/gh/ACL4SSR/ACL4SSR@master/Clash/Ruleset/BilibiliHMT.list"
    path: ./ruleset/BilibiliHMT.list
    interval: 86400
  Bilibili:
    type: http
    behavior: classical
    format: yaml
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/BiliBili/BiliBili.yaml"
    path: ./ruleset/Bilibili.yaml
    interval: 86400
  NetEaseMusic:
    type: http
    behavior: classical
    url: "https://testingcf.jsdelivr.net/gh/ACL4SSR/ACL4SSR@master/Clash/Ruleset/NetEaseMusic.list"
    path: ./ruleset/NetEaseMusic.list
    interval: 86400
  Steam:
    type: http
    behavior: classical
    format: yaml
    url: "https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Steam/Steam.yaml"
    path: ./ruleset/steam.yaml
    interval: 86400
  Epic:
    type: http
    behavior: classical
    url: "https://testingcf.jsdelivr.net/gh/ACL4SSR/ACL4SSR@master/Clash/Ruleset/Epic.list"
    path: ./ruleset/Epic.list
    interval: 86400
  Sony:
    type: http
    behavior: classical
    url: "https://testingcf.jsdelivr.net/gh/ACL4SSR/ACL4SSR@master/Clash/Ruleset/Sony.list"
    path: ./ruleset/Sony.list
    interval: 86400
  Nintendo:
    type: http
    behavior: classical
    url: "https://testingcf.jsdelivr.net/gh/ACL4SSR/ACL4SSR@master/Clash/Ruleset/Nintendo.list"
    path: ./ruleset/Nintendo.list
    interval: 86400
  private:
    type: http
    behavior: domain
    format: yaml
    url: "https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/private.yaml"
    path: ./ruleset/private.yaml
    interval: 86400
  cn_domain:
    type: http
    behavior: domain
    format: yaml
    url: "https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/cn.yaml"
    path: ./ruleset/cn_domain.yaml
    interval: 86400
  ChinaDomain:
    type: http
    behavior: domain
    url: "https://testingcf.jsdelivr.net/gh/ACL4SSR/ACL4SSR@master/Clash/ChinaDomain.list"
    path: ./ruleset/ChinaDomain.list
    interval: 86400
  ChinaCompanyIp:
    type: http
    behavior: ipcidr
    url: "https://testingcf.jsdelivr.net/gh/ACL4SSR/ACL4SSR@master/Clash/ChinaCompanyIp.list"
    path: ./ruleset/ChinaCompanyIp.list
    interval: 86400
  "geolocation-!cn":
    type: http
    behavior: domain
    format: yaml
    url: "https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/geolocation-!cn.yaml"
    path: ./ruleset/geolocation-!cn.yaml
    interval: 86400
  cn_ip:
    type: http
    behavior: ipcidr
    format: yaml
    url: "https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geoip/cn.yaml"
    path: ./ruleset/cn_ip.yaml
    interval: 86400
  google_ip:
    type: http
    behavior: ipcidr
    format: yaml
    url: "https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geoip/google.yaml"
    path: ./ruleset/google_ip.yaml
    interval: 86400
  freedom:
    type: http
    behavior: domain
    format: yaml
    url: "https://raw.githubusercontent.com/lamgience/Clash/refs/heads/clash_rules/freedom.yaml"
    path: ./ruleset/freedom.yaml
    interval: 86400
  direct_cus:
    type: http
    behavior: domain
    format: yaml
    url: "https://raw.githubusercontent.com/lamgience/Clash/refs/heads/clash_rules/Direct_wi.yaml"
    path: ./ruleset/Direct_wi.yaml
    interval: 86400
  Airport:
    type: http
    behavior: domain
    format: yaml
    url: "https://raw.githubusercontent.com/lamgience/Clash/refs/heads/clash_rules/Airport.yaml"
    path: ./ruleset/Airport.yaml
    interval: 86400
  ChinaMedia:
    type: http
    behavior: classical
    url: "https://testingcf.jsdelivr.net/gh/ACL4SSR/ACL4SSR@master/Clash/ChinaMedia.list"
    path: ./ruleset/ChinaMedia.list
    interval: 86400
  ProxyMedia:
    type: http
    behavior: classical
    url: "https://testingcf.jsdelivr.net/gh/ACL4SSR/ACL4SSR@master/Clash/ProxyMedia.list"
    path: ./ruleset/ProxyMedia.list
    interval: 86400
  ProxyGFWlist:
    type: http
    behavior: classical
    url: "https://testingcf.jsdelivr.net/gh/ACL4SSR/ACL4SSR@master/Clash/ProxyGFWlist.list"
    path: ./ruleset/ProxyGFWlist.list
    interval: 86400
  Origin:
    type: http
    behavior: classical
    url: "https://testingcf.jsdelivr.net/gh/ACL4SSR/ACL4SSR@master/Clash/Ruleset/Origin.list"
    path: ./ruleset/Origin.list
    interval: 86400

# ==================== 5. ä»£ç†ç»„ (Proxy Groups) ====================
proxy-groups:

  # --- æ ¸å¿ƒæ§åˆ¶ç»„ ---

  - name: æ‰‹åŠ¨åˆ‡æ¢
    type: select
    icon: https://testingcf.jsdelivr.net/gh/shindgewongxj/WHATSINStash@master/icon/select.png
    <<: *common_filter

  - name: è‡ªåŠ¨é€‰æ‹©
    type: url-test
    url: http://www.gstatic.com/generate_204
    interval: 300
    tolerance: 50
    icon: https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Auto.png
    <<: *common_filter

  - name: èŠ‚ç‚¹é€‰æ‹©
    type: select
    icon: https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Proxy.png
    <<: *common_filter
    proxies:
      - è‡ªåŠ¨é€‰æ‹©
      - æ‰‹åŠ¨åˆ‡æ¢
      - é¦™æ¸¯èŠ‚ç‚¹
      - å°æ¹¾èŠ‚ç‚¹
      - ç¾å›½èŠ‚ç‚¹
      - æ—¥æœ¬èŠ‚ç‚¹
      - æ–°åŠ å¡èŠ‚ç‚¹
      - è‹±å›½èŠ‚ç‚¹
      - éŸ©å›½èŠ‚ç‚¹
      - æ¾³å¤§åˆ©äºšèŠ‚ç‚¹
      - ä¿„ç½—æ–¯èŠ‚ç‚¹
      - å…¶ä»–èŠ‚ç‚¹
      - DIRECT

  # --- AI åº”ç”¨ç»„ (ä½¿ç”¨ *pg_ai é”šç‚¹: ç¾å›½èŠ‚ç‚¹ä¼˜å…ˆ) ---
  
  - name: AIGC
    type: select
    icon: https://img.icons8.com/?size=100&id=mSC3ebe4W6w6&format=png&color=000000
    proxies: *pg_ai

  - name: Gemini
    type: select
    icon: https://img.icons8.com/?size=100&id=ETVUfl0Ylh1p&format=png&color=000000
    proxies: *pg_ai

  - name: OpenAi
    type: select
    icon: https://testingcf.jsdelivr.net/gh/Orz-3/mini@master/Color/OpenAI.png
    proxies: *pg_ai

  - name: Copilot
    type: select
    icon: https://img.icons8.com/?size=100&id=A5L2E9lJjaSB&format=png&color=000000
    proxies: *pg_ai

  - name: Claude
    type: select
    icon: https://img.icons8.com/?size=100&id=kDfpmWz6OSCQ&format=png&color=000000
    proxies: *pg_ai

  # --- é€šç”¨åº”ç”¨ç»„ (ä½¿ç”¨ *pg_auto é”šç‚¹: è‡ªåŠ¨é€‰æ‹©ä¼˜å…ˆ) ---

  - name: è°·æ­Œ
    type: select
    icon: https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Google_Search.png
    proxies: *pg_auto

  - name: Adobe
    type: select
    icon: https://cdn.jsdelivr.net/gh/homarr-labs/dashboard-icons/svg/adobe.svg
    proxies: *pg_auto
  
  - name: Notion
    type: select
    icon: https://cdn.jsdelivr.net/gh/homarr-labs/dashboard-icons/svg/notion.svg
    proxies: *pg_auto

  - name: GitHub
    type: select
    icon: https://img.icons8.com/?size=100&id=LoL4bFzqmAa0&format=png&color=000000
    proxies: *pg_auto

  - name: Telegram
    type: select
    icon: https://testingcf.jsdelivr.net/gh/Orz-3/mini@master/Color/Telegram.png
    proxies: *pg_auto

  - name: YouTube
    type: select
    icon: https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/YouTube.png
    proxies: *pg_auto

  - name: Netflix
    type: select
    icon: https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Netflix.png
    proxies:
      - å¥ˆé£èŠ‚ç‚¹
      - è‡ªåŠ¨é€‰æ‹©
      - èŠ‚ç‚¹é€‰æ‹©
      - æ‰‹åŠ¨åˆ‡æ¢
      - é¦™æ¸¯èŠ‚ç‚¹
      - å°æ¹¾èŠ‚ç‚¹
      - ç¾å›½èŠ‚ç‚¹
      - æ—¥æœ¬èŠ‚ç‚¹
      - æ–°åŠ å¡èŠ‚ç‚¹
      - è‹±å›½èŠ‚ç‚¹
      - éŸ©å›½èŠ‚ç‚¹
      - æ¾³å¤§åˆ©äºšèŠ‚ç‚¹
      - ä¿„ç½—æ–¯èŠ‚ç‚¹
      - å…¶ä»–èŠ‚ç‚¹
      - DIRECT

  - name: Spotify
    type: select
    icon: https://cdn.jsdelivr.net/gh/homarr-labs/dashboard-icons/svg/spotify.svg
    proxies: *pg_auto

  - name: å›½å¤–ç¤¾äº¤
    type: select
    icon: https://img.icons8.com/?size=100&id=ZNMifeqJbPRv&format=png&color=000000
    proxies: *pg_auto

  - name: å›½å¤–åª’ä½“
    type: select
    icon: https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/ForeignMedia.png
    proxies: *pg_auto

  - name: å›½å†…åª’ä½“
    type: select
    icon: https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/DomesticMedia.png
    proxies:
      - èŠ‚ç‚¹é€‰æ‹©
      - è‡ªåŠ¨é€‰æ‹©
      - æ‰‹åŠ¨åˆ‡æ¢
      - é¦™æ¸¯èŠ‚ç‚¹
      - å°æ¹¾èŠ‚ç‚¹
      - ç¾å›½èŠ‚ç‚¹
      - æ—¥æœ¬èŠ‚ç‚¹
      - æ–°åŠ å¡èŠ‚ç‚¹
      - è‹±å›½èŠ‚ç‚¹
      - éŸ©å›½èŠ‚ç‚¹
      - æ¾³å¤§åˆ©äºšèŠ‚ç‚¹
      - ä¿„ç½—æ–¯èŠ‚ç‚¹
      - å…¶ä»–èŠ‚ç‚¹
      - DIRECT

  - name: å¾®è½¯
    type: select
    icon: https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Microsoft.png
    proxies: *pg_auto

  - name: æœºåœºä¸“çº¿
    type: select
    icon: https://img.icons8.com/?size=100&id=guJpUesVT0mI&format=png&color=000000
    proxies:
      - DIRECT
      - è‡ªåŠ¨é€‰æ‹©
      - èŠ‚ç‚¹é€‰æ‹©
      - æ‰‹åŠ¨åˆ‡æ¢
      - é¦™æ¸¯èŠ‚ç‚¹
      - å°æ¹¾èŠ‚ç‚¹
      - ç¾å›½èŠ‚ç‚¹
      - æ—¥æœ¬èŠ‚ç‚¹
      - æ–°åŠ å¡èŠ‚ç‚¹
      - è‹±å›½èŠ‚ç‚¹
      - éŸ©å›½èŠ‚ç‚¹
      - æ¾³å¤§åˆ©äºšèŠ‚ç‚¹
      - ä¿„ç½—æ–¯èŠ‚ç‚¹
      - å…¶ä»–èŠ‚ç‚¹

  - name: æ¸¸æˆå¹³å°
    type: select
    icon: https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Game.png
    proxies: *pg_auto

  - name: è‡ªç”±æ„å¿—
    type: select
    icon: https://img.icons8.com/?size=100&id=kYqbEzjS6EBh&format=png&color=000000
    proxies: *pg_auto

  - name: è‹¹æœæœåŠ¡
    type: select
    icon: https://img.icons8.com/?size=100&id=fpDIWrTmgyvx&format=png&color=000000
    proxies:
      - DIRECT
      - è‡ªåŠ¨é€‰æ‹©
      - èŠ‚ç‚¹é€‰æ‹©
      - æ‰‹åŠ¨åˆ‡æ¢
      - é¦™æ¸¯èŠ‚ç‚¹
      - å°æ¹¾èŠ‚ç‚¹
      - ç¾å›½èŠ‚ç‚¹
      - æ—¥æœ¬èŠ‚ç‚¹
      - æ–°åŠ å¡èŠ‚ç‚¹
      - è‹±å›½èŠ‚ç‚¹
      - éŸ©å›½èŠ‚ç‚¹
      - æ¾³å¤§åˆ©äºšèŠ‚ç‚¹
      - ä¿„ç½—æ–¯èŠ‚ç‚¹
      - å…¶ä»–èŠ‚ç‚¹

  - name: å¾®ä¿¡
    type: select
    icon: https://img.icons8.com/?size=100&id=qXin8dFXNXBX&format=png&color=000000
    proxies:
      - DIRECT
      - è‡ªåŠ¨é€‰æ‹©
      - èŠ‚ç‚¹é€‰æ‹©
      - æ‰‹åŠ¨åˆ‡æ¢
      - é¦™æ¸¯èŠ‚ç‚¹
      - å°æ¹¾èŠ‚ç‚¹
      - ç¾å›½èŠ‚ç‚¹
      - æ—¥æœ¬èŠ‚ç‚¹
      - æ–°åŠ å¡èŠ‚ç‚¹
      - è‹±å›½èŠ‚ç‚¹
      - éŸ©å›½èŠ‚ç‚¹
      - æ¾³å¤§åˆ©äºšèŠ‚ç‚¹
      - ä¿„ç½—æ–¯èŠ‚ç‚¹
      - å…¶ä»–èŠ‚ç‚¹

  - name: å“”å“©å“”å“©
    type: select
    icon: https://img.icons8.com/?size=100&id=l87yXVtzuGWB&format=png&color=000000
    proxies:
      - DIRECT
      - èŠ‚ç‚¹é€‰æ‹©
      - è‡ªåŠ¨é€‰æ‹©
      - é¦™æ¸¯èŠ‚ç‚¹
      - å°æ¹¾èŠ‚ç‚¹

  - name: ç½‘æ˜“éŸ³ä¹
    type: select
    icon: https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Netease_Music.png
    proxies:
      - DIRECT
      - èŠ‚ç‚¹é€‰æ‹©
      - è‡ªåŠ¨é€‰æ‹©

  - name: å“”å“©å“”å“©æ¸¯æ¾³å°
    type: select
    icon: https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/bilibili.png
    proxies:
      - èŠ‚ç‚¹é€‰æ‹©
      - è‡ªåŠ¨é€‰æ‹©
      - æ‰‹åŠ¨åˆ‡æ¢
      - é¦™æ¸¯èŠ‚ç‚¹
      - å°æ¹¾èŠ‚ç‚¹
      - å…¨çƒç›´è¿
      - DIRECT

  - name: å·´å“ˆå§†ç‰¹
    type: select
    icon: https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Bahamut.png
    proxies:
      - èŠ‚ç‚¹é€‰æ‹©
      - æ‰‹åŠ¨åˆ‡æ¢
      - å°æ¹¾èŠ‚ç‚¹
      - DIRECT

  # --- åœ°åŒºè‡ªåŠ¨æµ‹é€Ÿç»„ (æ ¸å¿ƒç»„ä»¶) ---
  - name: é¦™æ¸¯èŠ‚ç‚¹
    type: url-test
    url: http://www.gstatic.com/generate_204
    interval: 300
    tolerance: 50
    icon: https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Hong_Kong.png
    filter: "(?i)é¦™æ¸¯|Hong Kong|HK|ğŸ‡­ğŸ‡°|hk|HongKong|hongkong"
    <<: *common_filter

  - name: ç¾å›½èŠ‚ç‚¹
    type: url-test
    url: http://www.gstatic.com/generate_204
    interval: 300
    tolerance: 50
    icon: https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/United_States.png
    filter: "(?i)ç¾å›½|USA|ğŸ‡ºğŸ‡¸|ç¾|æ³¢ç‰¹å…°|è¾¾æ‹‰æ–¯|ä¿„å‹’å†ˆ|å‡¤å‡°åŸ|è´¹åˆ©è’™|ç¡…è°·|æ‹‰æ–¯ç»´åŠ æ–¯|æ´›æ‰çŸ¶|åœ£ä½•å¡|åœ£å…‹æ‹‰æ‹‰|è¥¿é›…å›¾|èŠåŠ å“¥|US|United States"
    <<: *common_filter

  - name: å°æ¹¾èŠ‚ç‚¹
    type: url-test
    url: http://www.gstatic.com/generate_204
    interval: 300
    tolerance: 50
    icon: https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Taiwan.png
    filter: "(?i)å°|æ–°åŒ—|å½°åŒ–|TW|Taiwan|ğŸ‡¹ğŸ‡¼"
    <<: *common_filter

  - name: æ–°åŠ å¡èŠ‚ç‚¹
    type: url-test
    url: http://www.gstatic.com/generate_204
    interval: 300
    tolerance: 50
    icon: https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Singapore.png
    filter: "(?i)æ–°åŠ å¡|Singapore|ğŸ‡¸ğŸ‡¬|å¡|ç‹®åŸ|SG"
    <<: *common_filter

  - name: æ—¥æœ¬èŠ‚ç‚¹
    type: url-test
    url: http://www.gstatic.com/generate_204
    interval: 300
    tolerance: 50
    icon: https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Japan.png
    filter: "(?i)æ—¥æœ¬|Japan|ğŸ‡¯ğŸ‡µ|å·æ—¥|ä¸œäº¬|å¤§é˜ª|æ³‰æ—¥|åŸ¼ç‰|æ²ªæ—¥|æ·±æ—¥|JP"
    <<: *common_filter

  - name: ä¿„ç½—æ–¯èŠ‚ç‚¹
    type: url-test
    url: http://www.gstatic.com/generate_204
    interval: 300
    tolerance: 50
    icon: https://fastly.jsdelivr.net/gh/clash-verge-rev/clash-verge-rev.github.io@main/docs/assets/icons/flags/ru.svg
    filter: "(?i)ä¿„ç½—æ–¯|Russia|Moscow|Saint Petersburg|Saint.Petersburg|St Petersburg|Novosibirsk|Khabarovsk|Vladivostok|ğŸ‡·ğŸ‡º"
    <<: *common_filter

  - name: è‹±å›½èŠ‚ç‚¹
    type: url-test
    url: http://www.gstatic.com/generate_204
    interval: 300
    tolerance: 50
    icon: https://img.icons8.com/?size=100&id=15534&format=png&color=000000
    filter: "(?i)è‹±å›½|UK|United Kingdom|London|England|GB|ğŸ‡¬ğŸ‡§"
    <<: *common_filter

  - name: éŸ©å›½èŠ‚ç‚¹
    type: url-test
    url: http://www.gstatic.com/generate_204
    interval: 300
    tolerance: 50
    icon: https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Korea.png
    filter: "(?i)KR|Korea|KOR|é¦–å°”|éŸ©|éŸ“|ğŸ‡°ğŸ‡·"
    <<: *common_filter

  - name: æ¾³å¤§åˆ©äºšèŠ‚ç‚¹
    type: url-test
    url: http://www.gstatic.com/generate_204
    interval: 300
    tolerance: 50
    icon: https://img.icons8.com/?size=100&id=22557&format=png&color=000000
    filter: "(?i)æ¾³å¤§åˆ©äºš|æ¾³æ´²|Australia|Sydney|Melbourne|Brisbane|Perth|Canberra|Adelaide|ğŸ‡¦ğŸ‡º"
    <<: *common_filter

  - name: å¥ˆé£èŠ‚ç‚¹
    type: url-test
    url: http://www.gstatic.com/generate_204
    interval: 300
    tolerance: 50
    icon: https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Netflix.png
    filter: "(?i)NF|å¥ˆé£|è§£é”|Netflix|NETFLIX|Media"
    <<: *common_filter

  # ã€ä¼˜åŒ–ã€‘å…¶ä»–èŠ‚ç‚¹ï¼šå¢åŠ æ‰€æœ‰å¯¹åº”å›½å®¶çš„æ——æ ‡
  - name: å…¶ä»–èŠ‚ç‚¹
    type: url-test
    url: http://www.gstatic.com/generate_204
    interval: 300
    tolerance: 50
    icon: https://img.icons8.com/?size=100&id=QiwSMfboPt2R&format=png&color=000000
    filter: "(?i)FR|æ³•å›½|MY|é©¬æ¥è¥¿äºš|BR|å·´è¥¿|CA|åŠ æ‹¿å¤§|ES|è¥¿ç­ç‰™|IN|å°åº¦|MX|å¢¨è¥¿å“¥|LU|å¢æ£®å ¡|TR|åœŸè€³å…¶|IL|ä»¥è‰²åˆ—|IT|æ„å¤§åˆ©|NL|è·å…°|DE|å¾·å›½|CH|ç‘å£«|TH|æ³°å›½|KZ|å“ˆè¨å…‹æ–¯å¦|ğŸ‡«ğŸ‡·|ğŸ‡²ğŸ‡¾|ğŸ‡§ğŸ‡·|ğŸ‡¨ğŸ‡¦|ğŸ‡ªğŸ‡¸|ğŸ‡®ğŸ‡³|ğŸ‡²ğŸ‡½|ğŸ‡±ğŸ‡º|ğŸ‡¹ğŸ‡·|ğŸ‡®ğŸ‡±|ğŸ‡®ğŸ‡¹|ğŸ‡³ğŸ‡±|ğŸ‡©ğŸ‡ª|ğŸ‡¨ğŸ‡­|ğŸ‡¹ğŸ‡­|ğŸ‡°ğŸ‡¿"
    <<: *common_filter

  - name: å…¨çƒç›´è¿
    type: select
    icon: https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Direct.png
    proxies:
      - DIRECT
      - èŠ‚ç‚¹é€‰æ‹©
      - è‡ªåŠ¨é€‰æ‹©

  - name: å¹¿å‘Šæ‹¦æˆª
    type: select
    icon: https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/AdBlack.png
    proxies:
      - REJECT
      - DIRECT

  - name: åº”ç”¨å‡€åŒ–
    type: select
    icon: https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Hijacking.png
    proxies:
      - REJECT
      - DIRECT

  - name: æ¼ç½‘ä¹‹é±¼
    type: select
    icon: https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Final.png
    proxies: *pg_auto

# ==================== 6. åˆ†æµè§„åˆ™ (Rules) ====================
rules:
  # 1. æœ€é«˜ä¼˜å…ˆçº§
  - RULE-SET,LocalAreaNetwork,å…¨çƒç›´è¿
  - RULE-SET,private,DIRECT
  - RULE-SET,UnBan,å…¨çƒç›´è¿
  - RULE-SET,BanAD,å¹¿å‘Šæ‹¦æˆª
  - RULE-SET,BanProgramAD,åº”ç”¨å‡€åŒ–
  
  # 2. AI æœåŠ¡ (ç¾å›½ä¼˜å…ˆ)
  - RULE-SET,OpenAi,OpenAi
  - RULE-SET,Openai,OpenAi
  - RULE-SET,Gemini,Gemini
  - RULE-SET,gemini,Gemini
  - RULE-SET,claude,Claude
  - RULE-SET,copilot,Copilot
  - RULE-SET,bard,AIGC
  - RULE-SET,perplexity,AIGC
  
  # 3. Google æœåŠ¡
  - RULE-SET,GoogleFCM,è°·æ­Œ
  - RULE-SET,google_domain,è°·æ­Œ
  - RULE-SET,google_ip,è°·æ­Œ
  - RULE-SET,YouTube,YouTube
  - RULE-SET,GoogleCN,è°·æ­Œ
  
  # 4. å…¶ä»–æœåŠ¡
  - RULE-SET,telegram_domain,Telegram
  - RULE-SET,telegram_ip,Telegram
  - RULE-SET,x,å›½å¤–ç¤¾äº¤
  - RULE-SET,reddit,å›½å¤–ç¤¾äº¤
  - RULE-SET,Instagram,å›½å¤–ç¤¾äº¤
  - RULE-SET,Threads,å›½å¤–ç¤¾äº¤
  - RULE-SET,Netflix,Netflix
  - RULE-SET,Spotify,Spotify
  - RULE-SET,ProxyMedia,å›½å¤–åª’ä½“
  - RULE-SET,Adobe,Adobe
  - RULE-SET,Notion,Notion
  - RULE-SET,GitHub,GitHub
  
  # å¾®è½¯
  - RULE-SET,MicrosoftEdge,å¾®è½¯
  - RULE-SET,OneDrive,å¾®è½¯
  - RULE-SET,Microsoft,å¾®è½¯
  - RULE-SET,bing,å¾®è½¯
  - RULE-SET,Bing,å¾®è½¯
  
  # æ¸¸æˆä¸å…¶ä»–
  - RULE-SET,Epic,æ¸¸æˆå¹³å°
  - RULE-SET,Origin,æ¸¸æˆå¹³å°
  - RULE-SET,Sony,æ¸¸æˆå¹³å°
  - RULE-SET,Steam,æ¸¸æˆå¹³å°
  - RULE-SET,Nintendo,æ¸¸æˆå¹³å°
  - RULE-SET,Bahamut,å·´å“ˆå§†ç‰¹
  - RULE-SET,Bilibili,å“”å“©å“”å“©
  - RULE-SET,BilibiliHMT,å“”å“©å“”å“©æ¸¯æ¾³å°
  - RULE-SET,NetEaseMusic,ç½‘æ˜“éŸ³ä¹
  - RULE-SET,WeChat,å¾®ä¿¡
  - RULE-SET,Apple,è‹¹æœæœåŠ¡
  
  # åŒºåŸŸä¸å…œåº•
  - RULE-SET,freedom,è‡ªç”±æ„å¿—
  - RULE-SET,direct_cus,DIRECT
  - RULE-SET,Airport,æœºåœºä¸“çº¿
  - RULE-SET,SteamCN,å…¨çƒç›´è¿
  - RULE-SET,ChinaMedia,å›½å†…åª’ä½“
  - RULE-SET,ProxyGFWlist,èŠ‚ç‚¹é€‰æ‹©
  - RULE-SET,ChinaDomain,å…¨çƒç›´è¿
  - RULE-SET,ChinaCompanyIp,å…¨çƒç›´è¿
  - RULE-SET,geolocation-!cn,èŠ‚ç‚¹é€‰æ‹©
  - RULE-SET,cn_domain,DIRECT
  - RULE-SET,cn_ip,DIRECT
  - RULE-SET,Download,å…¨çƒç›´è¿
  
  - GEOIP,CN,å…¨çƒç›´è¿
  - MATCH,æ¼ç½‘ä¹‹é±¼